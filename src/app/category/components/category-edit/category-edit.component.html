<!-- * CATEGORY * -->
<app-logo-watermark [favicon]="favicon" [sectionName]="sectionName"></app-logo-watermark>

<div class="row m-4 pl-5" [@simpleFadeAnimation]="'in'">
    <div class="container">
        <div class="text-right mr-5">
            <div class="btn-group btn-group-md float-right"
                 role="group"
                 aria-label="Basic example">
                <a [routerLink]="['/settings']"
                   class="btn btn-default">
                    <i class="fa fa-wrench"></i>&nbsp;Settings
                </a>
                <a [routerLink]="['/categories']"
                   class="btn btn-default">
                    <i class="fa fa-arrow-square-left"></i>&nbsp;
                    Category List</a>
                <a [routerLink]="['/categories/new']"
                   class="btn btn-default">
                    <i class="fa fa-tag"></i>&nbsp;New Category
                </a>
            </div>
        </div>
    </div>
</div>


<!-- * Event  * -->
<div class="row" [@simpleFadeAnimation]="'in'">
    <div class="container mb-5">
        <div class="col-md-12">
            <ng-template #loading>
                <div class="text-center text-dark p-5">
                    <i class="far fa-spinner fa-pulse"></i>
                    <br>
                    loading...
                </div>
            </ng-template>
            <div class="card">
                <div class="card-body">
                    <div class="card inner-card bg-lighter">
                        <div class="card-body">
                            <form (ngSubmit)="onCategoryUpdate(updateCatForm.value)"
                                  [formGroup]="updateCatForm"
                                  *ngIf="category; else loading">

                                <div class="form-group">
                                    <label>Name</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <i class="fa fa-font"></i>
                                        </span>
                                        </div>
                                        <input type="text"
                                               class="form-control"
                                               required
                                               placeholder="IBD & Relationships"
                                               formControlName="name"/>

                                    </div>
                                </div>


                                <div class="form-group">
                                    <label>Body/Summary</label>
                                    <div class="input-group">
                                        <textarea type="text"
                                                  class="form-control"
                                                  required
                                                  rows="5"
                                                  placeholder="Summary that goes on the page"
                                                  formControlName="body">
                                        </textarea>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label>FontAwesome Icon</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="fa fa-image"></i>
                                    </span>
                                        </div>
                                        <input type="text"
                                               class="form-control"
                                               placeholder="fal fa-user"
                                               formControlName="imageUrl"/>
                                    </div>
                                </div>

                                <div class="form-group p-3">
                                    <div class="custom-control custom-checkbox showCards">
                                        <input type="checkbox"
                                               class="custom-control-input"
                                               id="showCards"
                                               [(ngModel)]="category.showCards"
                                               formControlName="showCards">
                                        <label class="custom-control-label"
                                               for="showCards">Show <b>Rebate Program Cards</b> on Page?
                                        </label>
                                    </div>
                                </div>

                                <!-- * Date 1 * -->
                                <!-- * TODO: Add options via ngFor * -->
                                <mat-expansion-panel *ngIf="category.showCards" [expanded]="category.showCards">
                                    <mat-expansion-panel-header class="bg-light">
                                        <mat-panel-title>
                                            <div class="fa fa-hands-usd"></div>
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            Rebate Program Cards
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="row mt-3">
                                        <div class="col-md-3">
                                            <select class="form-control"
                                                    formControlName="card1">
                                                <option value="">-- Select Card 1 --</option>
                                                <option [value]="card.id" *ngFor="let card of cards$ | async">
                                                    {{ card.title }}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <select class="form-control"
                                                    formControlName="card2">
                                                <option value="">-- Select Card 2 --</option>
                                                <option [value]="card.id" *ngFor="let card of cards$ | async">
                                                    {{ card.title }}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <select class="form-control"
                                                    formControlName="card3">
                                                <option value="">-- Select Card 3 --</option>
                                                <option [value]="card.id" *ngFor="let card of cards$ | async">
                                                    {{ card.title }}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <select class="form-control"
                                                    formControlName="card4">
                                                <option value="">-- Select Card 4 --</option>
                                                <option [value]="card.id" *ngFor="let card of cards$ | async">
                                                    {{ card.title }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-md-3">
                                            <select class="form-control"
                                                    formControlName="card5">
                                                <option value="">-- Select Card 5 --</option>
                                                <option [value]="card.id" *ngFor="let card of cards$ | async">
                                                    {{ card.title }}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <select class="form-control"
                                                    formControlName="card6">
                                                <option value="">-- Select Card 6 --</option>
                                                <option [value]="card.id" *ngFor="let card of cards$ | async">
                                                    {{ card.title }}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <select class="form-control"
                                                    formControlName="card7">
                                                <option value="">-- Select Card 7 --</option>
                                                <option [value]="card.id" *ngFor="let card of cards$ | async">
                                                    {{ card.title }}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <select class="form-control"
                                                    formControlName="card8">
                                                <option value="">-- Select Card 8 --</option>
                                                <option [value]="card.id" *ngFor="let card of cards$ | async">
                                                    {{ card.title }}
                                                </option>
                                            </select>
                                        </div>

                                    </div>
                                </mat-expansion-panel>


                                <button type="submit" class="btn btn-secondary mb-5 mt-5">
                                    <i class="fa fa-tag"></i>&nbsp;Update Category
                                </button>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
